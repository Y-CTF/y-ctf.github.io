{% extends "prose.html" %}
{%block title%} {{ page.title }}{%endblock%}
{% block article %}

<h1>
    {{ page.title }}
    <span class="text-muted-foreground text-xl">by {{ page.authors | join(sep=", ") }}</span>
</h1>
<div class="flex flex-row gap-4 items-center">
    <span><strong>{{ page.date | date(format="%Y-%m-%d") }}</strong></span>
    <span class="text-muted-foreground">({{ page.reading_time }} min. read)</span> -
    <span class="flex flex-row gap-2">
        {% for tax in page.taxonomies.categories %}
        <a href="/categories/{{ tax }}"
            class="bg-accent text-accent-foreground px-2 py-1 rounded-md text-sm w-fit font-bold no-underline">
            {{ tax }}
        </a>
        {% endfor %}
    </span>
    <div class="flex-grow"></div>
    {% if page.assets | length %}
    <button onclick="toggleAssets()" class="cursor-pointer">
        <svg stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"
            xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 fill-none stroke-accent">
            <path
                d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z">
            </path>
        </svg>
    </button>
    {% endif %}
</div>
{% if page.assets | length %}
<div id="assets-container" class="hidden px-2 py-1 md:px-4 md:py-2 border border-muted my-4">
    <div class="flex flex-wrap gap-3">
        {% for asset in page.assets %}
        {% set filename = asset | split(pat="/") | last %}
        {% set extension = filename | split(pat=".") | last | lower %}
        <a href="{{ asset }}" class="inline-flex items-center gap-1 text-sm hover:text-primary transition-colors">
            {% if extension in ["png", "jpg", "jpeg", "gif", "bmp", "webp", "svg"] %}
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                <path
                    d="M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z" />
            </svg>
            {% elif extension in ["zip", "rar", "7z", "tar", "gz"] %}
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                <path
                    d="M14,17H12V15H10V13H12V15H14M14,9H12V7H10V9H12V7H14M14,13H12V11H10V13H12V11H14M12,19A1,1 0 0,1 11,18V16A1,1 0 0,1 12,15A1,1 0 0,1 13,16V18A1,1 0 0,1 12,19M12,3A1,1 0 0,1 13,4V12A1,1 0 0,1 12,13A1,1 0 0,1 11,12V4A1,1 0 0,1 12,3M7,19H17V21H7A2,2 0 0,1 5,19V5A2,2 0 0,1 7,3H14L19,8V19A2,2 0 0,1 17,21Z" />
            </svg>
            {% elif extension in ["pdf"] %}
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z" />
            </svg>
            {% elif extension in ["txt", "md", "readme"] %}
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z" />
            </svg>
            {% elif extension in ["py", "js", "html", "css", "c", "cpp", "java", "go", "rs", "php", "rb"] %}
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                <path
                    d="M14.6,16.6L19.2,12L14.6,7.4L13.2,8.8L16.4,12L13.2,15.2L14.6,16.6M9.4,16.6L10.8,15.2L7.6,12L10.8,8.8L9.4,7.4L4.8,12L9.4,16.6Z" />
            </svg>
            {% elif extension in ["json", "xml", "yaml", "yml", "toml", "ini", "cfg", "conf"] %}
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                <path
                    d="M5,3H7V5H5V10A2,2 0 0,1 3,12A2,2 0 0,1 5,14V19H7V21H5C3.93,20.73 3,20.1 3,19V15A2,2 0 0,0 1,13H0V11H1A2,2 0 0,0 3,9V5C3,3.9 3.9,3 5,3M19,3A2,2 0 0,1 21,5V9A2,2 0 0,0 23,11H24V13H23A2,2 0 0,0 21,15V19A2,2 0 0,1 19,21H17V19H19V14A2,2 0 0,1 21,12A2,2 0 0,1 19,10V5H17V3H19Z" />
            </svg>
            {% elif extension in ["exe", "bin", "app", "deb", "rpm"] %}
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                <path
                    d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M11,6V8H13V6H11M11,10V18H13V10H11Z" />
            </svg>
            {% else %}
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z" />
            </svg>
            {% endif %}
            {{ filename }}
        </a>
        {% endfor %}
    </div>
</div>
{% endif %}

{{ page.content | safe }}

{% endblock article %}